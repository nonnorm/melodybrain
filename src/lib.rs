use serde::{Deserialize, Serialize};

#[derive(Serialize, Deserialize)]
pub struct Heartbeat {
    pub seed: i32,
    pub wants_country: u16,
}

#[derive(Serialize, Deserialize)]
pub struct Stats {
    pub connected: u32,
    pub seed: i32,
}

// Encode 2 letter ASCII country code into u16
// Assumes 2 indicies in array
#[inline]
pub const fn encode_code(code: &[u8]) -> u16 {
    ((code[0] as u16) << 8) | (code[1] as u16)
}

/// ISO 3166-1 alpha-2 country codes (may or may not use this)
pub const COUNTRY_CODES: [u16; 249] = [
    encode_code(b"AF"),
    encode_code(b"AX"),
    encode_code(b"AL"),
    encode_code(b"DZ"),
    encode_code(b"AS"),
    encode_code(b"AD"),
    encode_code(b"AO"),
    encode_code(b"AI"),
    encode_code(b"AQ"),
    encode_code(b"AG"),
    encode_code(b"AR"),
    encode_code(b"AM"),
    encode_code(b"AW"),
    encode_code(b"AU"),
    encode_code(b"AT"),
    encode_code(b"AZ"),
    encode_code(b"BS"),
    encode_code(b"BH"),
    encode_code(b"BD"),
    encode_code(b"BB"),
    encode_code(b"BY"),
    encode_code(b"BE"),
    encode_code(b"BZ"),
    encode_code(b"BJ"),
    encode_code(b"BL"),
    encode_code(b"BM"),
    encode_code(b"BN"),
    encode_code(b"BO"),
    encode_code(b"BQ"),
    encode_code(b"BA"),
    encode_code(b"BW"),
    encode_code(b"BV"),
    encode_code(b"BR"),
    encode_code(b"IO"),
    encode_code(b"VG"),
    encode_code(b"BG"),
    encode_code(b"BF"),
    encode_code(b"BI"),
    encode_code(b"CV"),
    encode_code(b"KH"),
    encode_code(b"CM"),
    encode_code(b"CA"),
    encode_code(b"KY"),
    encode_code(b"CF"),
    encode_code(b"TD"),
    encode_code(b"CL"),
    encode_code(b"CN"),
    encode_code(b"CX"),
    encode_code(b"CC"),
    encode_code(b"CO"),
    encode_code(b"KM"),
    encode_code(b"CG"),
    encode_code(b"CD"),
    encode_code(b"CK"),
    encode_code(b"CR"),
    encode_code(b"CI"),
    encode_code(b"HR"),
    encode_code(b"CU"),
    encode_code(b"CW"),
    encode_code(b"CY"),
    encode_code(b"CZ"),
    encode_code(b"DK"),
    encode_code(b"DJ"),
    encode_code(b"DM"),
    encode_code(b"DO"),
    encode_code(b"EC"),
    encode_code(b"EG"),
    encode_code(b"SV"),
    encode_code(b"GQ"),
    encode_code(b"ER"),
    encode_code(b"EE"),
    encode_code(b"ET"),
    encode_code(b"FK"),
    encode_code(b"FO"),
    encode_code(b"FJ"),
    encode_code(b"FI"),
    encode_code(b"FR"),
    encode_code(b"GF"),
    encode_code(b"PF"),
    encode_code(b"TF"),
    encode_code(b"GA"),
    encode_code(b"GM"),
    encode_code(b"GE"),
    encode_code(b"DE"),
    encode_code(b"GH"),
    encode_code(b"GI"),
    encode_code(b"GR"),
    encode_code(b"GL"),
    encode_code(b"GD"),
    encode_code(b"GP"),
    encode_code(b"GU"),
    encode_code(b"GT"),
    encode_code(b"GG"),
    encode_code(b"GN"),
    encode_code(b"GW"),
    encode_code(b"GY"),
    encode_code(b"HT"),
    encode_code(b"HM"),
    encode_code(b"VA"),
    encode_code(b"HN"),
    encode_code(b"HK"),
    encode_code(b"HU"),
    encode_code(b"IS"),
    encode_code(b"IN"),
    encode_code(b"ID"),
    encode_code(b"IR"),
    encode_code(b"IQ"),
    encode_code(b"IE"),
    encode_code(b"IM"),
    encode_code(b"IL"),
    encode_code(b"IT"),
    encode_code(b"JM"),
    encode_code(b"JP"),
    encode_code(b"JE"),
    encode_code(b"JO"),
    encode_code(b"KZ"),
    encode_code(b"KE"),
    encode_code(b"KI"),
    encode_code(b"KP"),
    encode_code(b"KR"),
    encode_code(b"KW"),
    encode_code(b"KG"),
    encode_code(b"LA"),
    encode_code(b"LV"),
    encode_code(b"LB"),
    encode_code(b"LS"),
    encode_code(b"LR"),
    encode_code(b"LY"),
    encode_code(b"LI"),
    encode_code(b"LT"),
    encode_code(b"LU"),
    encode_code(b"MO"),
    encode_code(b"MK"),
    encode_code(b"MG"),
    encode_code(b"MW"),
    encode_code(b"MY"),
    encode_code(b"MV"),
    encode_code(b"ML"),
    encode_code(b"MT"),
    encode_code(b"MH"),
    encode_code(b"MQ"),
    encode_code(b"MR"),
    encode_code(b"MU"),
    encode_code(b"YT"),
    encode_code(b"MX"),
    encode_code(b"FM"),
    encode_code(b"MD"),
    encode_code(b"MC"),
    encode_code(b"MN"),
    encode_code(b"ME"),
    encode_code(b"MS"),
    encode_code(b"MA"),
    encode_code(b"MZ"),
    encode_code(b"MM"),
    encode_code(b"NA"),
    encode_code(b"NR"),
    encode_code(b"NP"),
    encode_code(b"NL"),
    encode_code(b"NC"),
    encode_code(b"NZ"),
    encode_code(b"NI"),
    encode_code(b"NE"),
    encode_code(b"NG"),
    encode_code(b"NU"),
    encode_code(b"NF"),
    encode_code(b"MP"),
    encode_code(b"NO"),
    encode_code(b"OM"),
    encode_code(b"PK"),
    encode_code(b"PW"),
    encode_code(b"PS"),
    encode_code(b"PA"),
    encode_code(b"PG"),
    encode_code(b"PY"),
    encode_code(b"PE"),
    encode_code(b"PH"),
    encode_code(b"PN"),
    encode_code(b"PL"),
    encode_code(b"PT"),
    encode_code(b"PR"),
    encode_code(b"QA"),
    encode_code(b"RE"),
    encode_code(b"RO"),
    encode_code(b"RU"),
    encode_code(b"RW"),
    encode_code(b"BL"),
    encode_code(b"SH"),
    encode_code(b"KN"),
    encode_code(b"LC"),
    encode_code(b"MF"),
    encode_code(b"PM"),
    encode_code(b"VC"),
    encode_code(b"WS"),
    encode_code(b"SM"),
    encode_code(b"ST"),
    encode_code(b"SA"),
    encode_code(b"SN"),
    encode_code(b"RS"),
    encode_code(b"SC"),
    encode_code(b"SL"),
    encode_code(b"SG"),
    encode_code(b"SX"),
    encode_code(b"SK"),
    encode_code(b"SI"),
    encode_code(b"SB"),
    encode_code(b"SO"),
    encode_code(b"ZA"),
    encode_code(b"GS"),
    encode_code(b"SS"),
    encode_code(b"ES"),
    encode_code(b"LK"),
    encode_code(b"SD"),
    encode_code(b"SR"),
    encode_code(b"SJ"),
    encode_code(b"SE"),
    encode_code(b"CH"),
    encode_code(b"SY"),
    encode_code(b"TW"),
    encode_code(b"TJ"),
    encode_code(b"TZ"),
    encode_code(b"TH"),
    encode_code(b"TL"),
    encode_code(b"TG"),
    encode_code(b"TK"),
    encode_code(b"TO"),
    encode_code(b"TT"),
    encode_code(b"TN"),
    encode_code(b"TR"),
    encode_code(b"TM"),
    encode_code(b"TC"),
    encode_code(b"TV"),
    encode_code(b"UG"),
    encode_code(b"UA"),
    encode_code(b"AE"),
    encode_code(b"GB"),
    encode_code(b"US"),
    encode_code(b"UM"),
    encode_code(b"UY"),
    encode_code(b"UZ"),
    encode_code(b"VU"),
    encode_code(b"VE"),
    encode_code(b"VN"),
    encode_code(b"VG"),
    encode_code(b"VI"),
    encode_code(b"WF"),
    encode_code(b"EH"),
    encode_code(b"YE"),
    encode_code(b"ZM"),
    encode_code(b"ZW"),
];

pub const WORLDWIDE: u16 = encode_code(b"XW");
